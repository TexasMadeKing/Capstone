{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JOSHB\\\\Desktop\\\\Capstone\\\\capstone-front\\\\src\\\\react-auth0-spa.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport createAuth0Client from \"@auth0/auth0-spa-js\";\n\nconst DEFAULT_REDIRECT_CALLBACK = () => window.history.replaceState({}, document.title, window.location.pathname);\n\n_c = DEFAULT_REDIRECT_CALLBACK;\nexport const Auth0Context = /*#__PURE__*/React.createContext();\nexport const useAuth0 = () => {\n  _s();\n\n  return useContext(Auth0Context);\n};\n\n_s(useAuth0, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport const Auth0Provider = _ref => {\n  _s2();\n\n  let {\n    children,\n    onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\n    ...initOptions\n  } = _ref;\n  const [isAuthenticated, setIsAuthenticated] = useState();\n  const [user, setUser] = useState();\n  const [auth0Client, setAuth0] = useState();\n  const [loading, setLoading] = useState(true);\n  const [popupOpen, setPopupOpen] = useState(false);\n  useEffect(() => {\n    const initAuth0 = async () => {\n      const auth0FromHook = await createAuth0Client(initOptions);\n      setAuth0(auth0FromHook);\n\n      if (window.location.search.includes(\"code=\")) {\n        const {\n          appState\n        } = await auth0FromHook.handleRedirectCallback();\n        onRedirectCallback(appState);\n      }\n\n      const isAuthenticated = await auth0FromHook.isAuthenticated();\n      setIsAuthenticated(isAuthenticated);\n\n      if (isAuthenticated) {\n        const user = await auth0FromHook.getUser();\n        setUser(user);\n      }\n\n      setLoading(false);\n    };\n\n    initAuth0(); // eslint-disable-next-line\n  }, []);\n\n  const loginWithPopup = async function () {\n    let params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    setPopupOpen(true);\n\n    try {\n      await auth0Client.loginWithPopup(params);\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setPopupOpen(false);\n    }\n\n    const user = await auth0Client.getUser();\n    setUser(user);\n    setIsAuthenticated(true);\n  };\n\n  const handleRedirectCallback = async () => {\n    setLoading(true);\n    await auth0Client.handleRedirectCallback();\n    const user = await auth0Client.getUser();\n    setLoading(false);\n    setIsAuthenticated(true);\n    setUser(user);\n  };\n\n  return /*#__PURE__*/React.createElement(Auth0Context.Provider, {\n    value: {\n      isAuthenticated,\n      user,\n      loading,\n      popupOpen,\n      loginWithPopup,\n      handleRedirectCallback,\n      getIdTokenClaims: function () {\n        return auth0Client.getIdTokenClaims(...arguments);\n      },\n      loginWithRedirect: function () {\n        return auth0Client.loginWithRedirect(...arguments);\n      },\n      getTokenSilently: function () {\n        return auth0Client.getTokenSilently(...arguments);\n      },\n      getTokenWithPopup: function () {\n        return auth0Client.getTokenWithPopup(...arguments);\n      },\n      logout: function () {\n        return auth0Client.logout(...arguments);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, children);\n};\n\n_s2(Auth0Provider, \"10jffJgiu/ip4MBQT7xgO/t5cBM=\");\n\n_c2 = Auth0Provider;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"DEFAULT_REDIRECT_CALLBACK\");\n$RefreshReg$(_c2, \"Auth0Provider\");","map":{"version":3,"names":["React","useState","useEffect","useContext","createAuth0Client","DEFAULT_REDIRECT_CALLBACK","window","history","replaceState","document","title","location","pathname","Auth0Context","createContext","useAuth0","Auth0Provider","children","onRedirectCallback","initOptions","isAuthenticated","setIsAuthenticated","user","setUser","auth0Client","setAuth0","loading","setLoading","popupOpen","setPopupOpen","initAuth0","auth0FromHook","search","includes","appState","handleRedirectCallback","getUser","loginWithPopup","params","error","console","getIdTokenClaims","loginWithRedirect","getTokenSilently","getTokenWithPopup","logout"],"sources":["C:/Users/JOSHB/Desktop/Capstone/capstone-front/src/react-auth0-spa.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport createAuth0Client from \"@auth0/auth0-spa-js\";\r\n\r\nconst DEFAULT_REDIRECT_CALLBACK = () =>\r\n    window.history.replaceState({}, document.title, window.location.pathname);\r\n\r\nexport const Auth0Context = React.createContext();\r\nexport const useAuth0 = () => useContext(Auth0Context);\r\nexport const Auth0Provider = ({\r\n    children,\r\n    onRedirectCallback = DEFAULT_REDIRECT_CALLBACK,\r\n    ...initOptions\r\n}) => {\r\n    const [isAuthenticated, setIsAuthenticated] = useState();\r\n    const [user, setUser] = useState();\r\n    const [auth0Client, setAuth0] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n    const [popupOpen, setPopupOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const initAuth0 = async () => {\r\n            const auth0FromHook = await createAuth0Client(initOptions);\r\n            setAuth0(auth0FromHook);\r\n\r\n            if (window.location.search.includes(\"code=\")) {\r\n                const { appState } = await auth0FromHook.handleRedirectCallback();\r\n                onRedirectCallback(appState);\r\n            }\r\n\r\n            const isAuthenticated = await auth0FromHook.isAuthenticated();\r\n\r\n            setIsAuthenticated(isAuthenticated);\r\n\r\n            if (isAuthenticated) {\r\n                const user = await auth0FromHook.getUser();\r\n                setUser(user);\r\n            }\r\n\r\n            setLoading(false);\r\n        };\r\n        initAuth0();\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    const loginWithPopup = async (params = {}) => {\r\n        setPopupOpen(true);\r\n        try {\r\n            await auth0Client.loginWithPopup(params);\r\n        } catch (error) {\r\n            console.error(error);\r\n        } finally {\r\n            setPopupOpen(false);\r\n        }\r\n        const user = await auth0Client.getUser();\r\n        setUser(user);\r\n        setIsAuthenticated(true);\r\n    };\r\n\r\n    const handleRedirectCallback = async () => {\r\n        setLoading(true);\r\n        await auth0Client.handleRedirectCallback();\r\n        const user = await auth0Client.getUser();\r\n        setLoading(false);\r\n        setIsAuthenticated(true);\r\n        setUser(user);\r\n    };\r\n    return (\r\n        <Auth0Context.Provider\r\n            value={{\r\n                isAuthenticated,\r\n                user,\r\n                loading,\r\n                popupOpen,\r\n                loginWithPopup,\r\n                handleRedirectCallback,\r\n                getIdTokenClaims: (...p) => auth0Client.getIdTokenClaims(...p),\r\n                loginWithRedirect: (...p) => auth0Client.loginWithRedirect(...p),\r\n                getTokenSilently: (...p) => auth0Client.getTokenSilently(...p),\r\n                getTokenWithPopup: (...p) => auth0Client.getTokenWithPopup(...p),\r\n                logout: (...p) => auth0Client.logout(...p)\r\n            }}\r\n        >\r\n            {children}\r\n        </Auth0Context.Provider>\r\n    );\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}